#
# MYKERNEL -- Оптимизированное ядро для быстрой загрузки
# Основано на GENERIC, с отключением ненужных компонентов.
#

options         BOOTWAIT=3              # Уменьшенное время ожидания загрузочного меню
options         AUTOBTN_TIMEOUT=1       # Быстрая реакция на кнопку загрузки

cpu             HAMMER
ident           MYKERNEL

makeoptions     DEBUG=-g                # Отладочные символы (опционально)
makeoptions     WITH_CTF=1              # Поддержка DTrace

options         SCHED_ULE               # Планировщик ULE
options         PREEMPTION              # Прерывание потоков ядра
options         INET                    # Сетевая поддержка IPv4
options         INET6                   # IPv6 (оставить, если нужно)
options         FFS                     # Файловая система UFS
options         SOFTUPDATES             # Оптимизация для UFS
options         UFS_DIRHASH             # Ускорение работы с каталогами
options         MD_ROOT                 # Использовать RAM-диск как корень
options         TMPFS                   # Файловая система в оперативной памяти
options         GEOM_LABEL              # Метки на дисках
options         COMPAT_FREEBSD32        # Совместимость с 32-битными приложениями

# Отключено для ускорения загрузки:
#options        CD9660                  # Отключено: поддержка CD/DVD
#options        MSDOSFS                 # Отключено: файловая система FAT
#options        NFS                     # Отключено: клиент NFS
#options        AUDIT                   # Отключено: аудит безопасности
#options        MAC                     # Отключено: мандатная политика доступа

# Отключено устаревшее оборудование:
#device         isa                     # Отключено: шина ISA
#device         scbus                   # Отключено: SCSI-шина
#device         ahc                     # Отключено: контроллер AHA2940 SCSI
#device         fdc                     # Отключено: дисковод для гибких дисков
#device         ppc                     # Отключено: параллельный порт
#device         sound                   # Отключено: звуковая подсистема

# Сетевые драйверы (оставлено только необходимое):
device          em                      # Intel Gigabit Ethernet
#device         wlan                    # Отключено: Wi-Fi
#device         ath                     # Отключено: Atheros Wi-Fi

# Отключены отладочные возможности:
#options        KDB                     # Отключено: отладчик ядра
#options        DDB                     # Отключено: встроенный отладчик
#options        INVARIANTS              # Отключено: проверки целостности

# Виртуализация (оставить, если используется):
#device         virtio                  # Отключено: поддержка VirtIO
#device         hyperv                  # Отключено: поддержка Hyper-V

# Поддержка PCI/USB:
device          acpi
device          pci
device          uhci                    # USB 1.1
device          ehci                    # USB 2.0
device          xhci                    # USB 3.0

# Поддержка файловых систем и дисков:
device          ahci                    # SATA
device          nvme                    # NVMe
device          da                      # SCSI-диски

# Псевдоустройства:
device          loop                    # Петлевое устройство
device          random                  # Генератор случайных чисел
device          ether                   # Ethernet
device          firmware                # Прошивка

# Отключены дополнительные возможности:
#device         wifi                    # Отключено: стек Wi-Fi
#device         usbhid                  # Отключено: USB HID устройства
#device         crypto                  # Отключено: криптография (если не нужна)
